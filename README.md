# Video Editing Custom Nodes

## 视频裁切节点 (VideoCropNode)

这个节点可以批量裁切视频文件。

### 功能特点
- 支持多种视频格式：mp4, avi, mov, mkv, wmv, flv, webm
- 可配置裁切区域坐标
- 可选择是否保留音效
- 批量处理文件夹中的所有视频

### 输入参数
- **input_folder**: 输入文件夹选择（下拉框，可选择ComfyUI输入目录下的子文件夹）
- **output_folder_name**: 输出文件夹名字（自定义保存文件夹的名称）
- **crop_x1**: 裁切区域左上角X坐标
- **crop_y1**: 裁切区域左上角Y坐标  
- **crop_x2**: 裁切区域右下角X坐标
- **crop_y2**: 裁切区域右下角Y坐标
- **keep_audio**: 是否保留音效（可选，默认True）

### 使用方法
1. 将视频文件放入ComfyUI的默认输入文件夹或其子文件夹中
2. 从下拉框中选择要处理的文件夹（"input"表示根目录，其他选项为子文件夹）
3. 输入输出文件夹的名字（默认为"cropped_videos"）
4. 设置裁切坐标（左上角和右下角）
5. 选择是否保留音效
6. 运行节点，裁切后的视频将自动保存到ComfyUI的输出文件夹下的指定子文件夹

### 依赖安装
```bash
pip install -r requirements.txt
```

### 输出
返回处理结果信息，包括处理的文件数量和保存路径。

### 路径说明
- **输入路径**: 可选择ComfyUI的默认输入文件夹或其子文件夹
  - 选择"input"：使用 `ComfyUI/input/`
  - 选择子文件夹：使用 `ComfyUI/input/子文件夹名/`
- **输出路径**: 自动使用ComfyUI的默认输出文件夹下的自定义子文件夹（`ComfyUI/output/自定义文件夹名/`）

### 文件夹选择功能
- 下拉框会自动扫描ComfyUI输入目录下的所有子文件夹
- "input"选项表示处理输入根目录下的视频文件
- 其他选项表示处理对应子文件夹下的视频文件
- 文件夹列表会在每次打开节点时动态更新

### 输出文件夹自定义
- 可以自定义输出文件夹的名称
- 默认名称为"cropped_videos"
- 输出文件夹会在ComfyUI的默认输出目录下自动创建
- 支持中文和英文文件夹名称
